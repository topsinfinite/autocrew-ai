# Database Configuration
# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
POSTGRES_URL=postgresql://username:password@host:port/database_name

# Better Auth Configuration
# Secret key for signing JWT tokens and encrypting session data
# Generate with: openssl rand -base64 32
BETTER_AUTH_SECRET=your-secret-key-here

# Base URL for Better Auth (used for callbacks and redirects)
BETTER_AUTH_URL=http://localhost:3000

# Public app URL (accessible from client-side)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Email Configuration (for Better Auth password reset, etc.)
# From email address
EMAIL_FROM=noreply@yourdomain.com

# SMTP server configuration
EMAIL_SERVER_HOST=smtp.example.com
EMAIL_SERVER_PORT=587
EMAIL_SERVER_USER=your-smtp-user
EMAIL_SERVER_PASSWORD=your-smtp-password

# Gmail Example (uncomment and update if using Gmail):
# EMAIL_FROM=your-email@gmail.com
# EMAIL_SERVER_HOST=smtp.gmail.com
# EMAIL_SERVER_PORT=587
# EMAIL_SERVER_USER=your-email@gmail.com
# EMAIL_SERVER_PASSWORD=your-gmail-app-password

# N8N Webhook Configuration
# API Key for authenticating requests to n8n webhooks
# This must match the value configured in the n8n workflow's "Validate API Key" node
N8N_API_KEY=your-n8n-api-key-here

# N8N Document Upload Webhook URL
# Webhook endpoint for uploading knowledge base documents
N8N_DOCUMENT_UPLOAD_WEBHOOK=http://localhost:5678/webhook/knowledgebase/document-upload

# Background Job Configuration
# Conversation discovery cron schedule (cron syntax)
# Examples:
#   */2 * * * *  - Every 2 minutes (high traffic)
#   */5 * * * *  - Every 5 minutes (default, recommended)
#   */15 * * * * - Every 15 minutes (medium traffic)
#   0 * * * *    - Every hour (low traffic)
#   0 */2 * * *  - Every 2 hours (very low traffic)
#   0 2 * * *    - Daily at 2am (batch processing)
# Format: minute hour day month weekday
CONVERSATION_DISCOVERY_CRON=*/5 * * * *

# Enable/disable background jobs
# Set to 'false' to disable background discovery (useful for development)
ENABLE_BACKGROUND_JOBS=true

# Logging Configuration
# Log level determines which messages are output
# Options: debug, info, warn, error
# - debug: All messages (verbose, for development troubleshooting)
# - info: Informational messages and above (recommended for development)
# - warn: Warnings and errors only
# - error: Errors only (recommended for production)
LOG_LEVEL=info

# Pretty print logs in development (set to 'false' for compact JSON)
# In production (NODE_ENV=production), logs are always compact JSON
LOG_PRETTY_PRINT=true

# Enable file logging (optional)
# Set to 'true' to write logs to files in addition to console
# Useful for production debugging and log aggregation
LOG_TO_FILE=false

# Log file directory (if file logging is enabled)
# Logs will be written to {LOG_FILE_PATH}/{date}-{level}.log
# Example: ./logs/2024-01-09-error.log
LOG_FILE_PATH=./logs
